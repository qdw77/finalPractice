<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BoardDAO">

	<select id="selectBoardList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		select T.rnum,
			   T.boardIdx,
		       T.boardTitle,
		       T.createId,
		       T.createDate,
		       T.updateId,
		       T.updateDate,
		       T.updateDate
		from (select format(@rownum:=@rownum+1, 0) AS rnum,
					board_idx AS boardIdx,
					board_title AS boardTitle,
					create_id AS createId,
					DATE_FORMAT(create_date, '%Y-%m-%d %H:%i:%s') AS createDate,
					update_id AS updateId,
					DATE_FORMAT(update_date, '%Y-%m-%d %H:%i:%s') AS updateDate
		from tb_board,(select @rownum:=0 from dual)R
		where 1
		and use_yn ='Y'
		<if test="searchKeyword != '' and searchKeyword != null and searchKeyword != 'undefined'">
				<if test="searchCondition == 'id'">
					AND create_id like concat('%',#{searchKeyword},'%')
				</if>
				<if test="searchCondition == 'title'">
					AND board_title like concat('%',#{searchKeyword},'%')
				</if>
			</if>
		order by create_date)T
		order by cast(replace(T.rnum, ',','') AS unsigned) desc
		limit #{recordCountPerPage} offset #{firstIndex} 
	</select>
	
	<select id="selectBoardListCnt">
		
	</select>
	
	<insert id="insertBoard">
		
	</insert>
	
	<update id="updateBoard">
		
	</update>
	
	<select id="selectBoardDetail">
	</select>
	
	<update id="deleteBoard">
	</update>
	
	<insert id="insertReply">
	</insert>
	
	<select id="selectBoardReply">
	</select>
	
	<update id="deleteReply">
	</update>
</mapper>